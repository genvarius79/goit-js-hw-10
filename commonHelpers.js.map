{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport errorIcon from '../img/error.svg';\nconst btnStart = document.querySelector('button');\nconst selector = document.querySelector('#datetime-picker');\nconst value = document.querySelectorAll('.value');\nlet userSelectedDate;\nbtnStart.disabled = true;\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (Date.parse(selectedDates[0]) < Date.parse(new Date())) {\n      iziToast.error({\n        iconUrl: errorIcon,\n        iconColor: 'color: #fff',\n        title: 'error',\n        titleColor: '#fff',\n        titleSize: '16px',\n        titleLineHeight: '1.5',\n        messageLineHeight: '1.5',\n        message: 'Please choose a date in the future',\n        messageColor: '#fff',\n        messageSize: '16px',\n        position: 'topRight',\n        theme: 'dark',\n        backgroundColor: '#B51B1B',\n      });\n      btnStart.disabled = true;\n    } else {\n      userSelectedDate = selectedDates[0];\n      btnStart.disabled = false;\n    }\n  },\n};\n\nflatpickr(selector, options);\n\nfunction addLeadingZero(value) {\n  return value.padStart(2, '0');\n}\n\nbtnStart.addEventListener('click', () => {\n  selector.disabled = true;\n  btnStart.disabled = true;\n  function timer() {\n    const time = Date.parse(userSelectedDate) - Date.parse(new Date());\n    const days = convertMs(time).days;\n    const hours = convertMs(time).hours;\n    const minutes = convertMs(time).minutes;\n    const seconds = convertMs(time).seconds;\n    if (time <= 0) {\n      clearInterval(intervalId);\n      selector.disabled = false;\n    }\n    value[0].textContent = addLeadingZero(days.toString());\n    value[1].textContent = addLeadingZero(hours.toString());\n    value[2].textContent = addLeadingZero(minutes.toString());\n    value[3].textContent = addLeadingZero(seconds.toString());\n  }\n  const intervalId = setInterval(timer, 1000);\n});\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n"],"names":["btnStart","selector","value","userSelectedDate","options","selectedDates","iziToast","errorIcon","flatpickr","addLeadingZero","timer","time","days","convertMs","hours","minutes","seconds","intervalId","ms"],"mappings":"0IAKA,MAAMA,EAAW,SAAS,cAAc,QAAQ,EAC1CC,EAAW,SAAS,cAAc,kBAAkB,EACpDC,EAAQ,SAAS,iBAAiB,QAAQ,EAChD,IAAIC,EACJH,EAAS,SAAW,GACpB,MAAMI,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACjB,KAAK,MAAMA,EAAc,CAAC,CAAC,EAAI,KAAK,MAAM,IAAI,IAAM,GACtDC,EAAS,MAAM,CACb,QAASC,EACT,UAAW,cACX,MAAO,QACP,WAAY,OACZ,UAAW,OACX,gBAAiB,MACjB,kBAAmB,MACnB,QAAS,qCACT,aAAc,OACd,YAAa,OACb,SAAU,WACV,MAAO,OACP,gBAAiB,SACzB,CAAO,EACDP,EAAS,SAAW,KAEpBG,EAAmBE,EAAc,CAAC,EAClCL,EAAS,SAAW,GAEvB,CACH,EAEAQ,EAAUP,EAAUG,CAAO,EAE3B,SAASK,EAAeP,EAAO,CAC7B,OAAOA,EAAM,SAAS,EAAG,GAAG,CAC9B,CAEAF,EAAS,iBAAiB,QAAS,IAAM,CACvCC,EAAS,SAAW,GACpBD,EAAS,SAAW,GACpB,SAASU,GAAQ,CACf,MAAMC,EAAO,KAAK,MAAMR,CAAgB,EAAI,KAAK,MAAM,IAAI,IAAM,EAC3DS,EAAOC,EAAUF,CAAI,EAAE,KACvBG,EAAQD,EAAUF,CAAI,EAAE,MACxBI,EAAUF,EAAUF,CAAI,EAAE,QAC1BK,EAAUH,EAAUF,CAAI,EAAE,QAC5BA,GAAQ,IACV,cAAcM,CAAU,EACxBhB,EAAS,SAAW,IAEtBC,EAAM,CAAC,EAAE,YAAcO,EAAeG,EAAK,SAAQ,CAAE,EACrDV,EAAM,CAAC,EAAE,YAAcO,EAAeK,EAAM,SAAQ,CAAE,EACtDZ,EAAM,CAAC,EAAE,YAAcO,EAAeM,EAAQ,SAAQ,CAAE,EACxDb,EAAM,CAAC,EAAE,YAAcO,EAAeO,EAAQ,SAAQ,CAAE,CACzD,CACD,MAAMC,EAAa,YAAYP,EAAO,GAAI,CAC5C,CAAC,EAED,SAASG,EAAUK,EAAI,CAQrB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAE1BJ,EAAQ,KAAK,MAAOI,EAAK,MAAO,IAAI,EAEpCH,EAAU,KAAK,MAAQG,EAAK,MAAO,KAAQ,GAAM,EAEjDF,EAAU,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}